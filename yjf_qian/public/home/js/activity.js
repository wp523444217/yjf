$(document).ready(function(){var t="http://live.yy.com/";activity_util={activitySubscribe:function(i,a){var s=t+"member/index.php?m=Activity&do=jsonpSub&aid="+i+"&type="+a+"&from=act";return s+="&callback=?",$.getJSON(s,function(t){return 1==t.status?("Subscribe"==a?(activity_util.displayInfo(!0,"订阅成功！"),$(".his_sub").each(function(t,a){var s=$(a).data("aid");s==i&&$(a).attr("data-aid","").css("background-color","#d1d1d1").html("已订阅")})):"Cancel"==a&&activity_util.displayInfo(!0,"退订成功！"),!1):2==t.status?(activity_util.displayInfo(!0,"你已经订阅该活动了！"),!1):-1==t.status?(activity_util.displayInfo(!1,"未登录！"),!1):-2==t.status||-3==t.status?(activity_util.displayInfo(!1,"抱歉，系统繁忙，请您稍后再试！"),!1):-4==t.status?(activity_util.displayInfo(!1,"抱歉，系统繁忙，请您稍后再试！"),!1):3==t.status?(activity_util.displayInfo(!0,"退订成功！"),!1):(activity_util.displayInfo(!1,t.message),!1)}),!1},displayInfo:function(t,i,a){var s=!!window.ActiveXObject,o=s&&!window.XMLHttpRequest;if(s&&o)return void alert(i);a=a||3;var c="";t?c='<p class="msg-success"><i></i>'+i+"</p>":(c='<p class="msg-error"><i></i>'+i+"</p>",$("body").scrollTop(0),$(window).scrollTop(0)),new $.msgbox({autoClose:a,content:c,height:"100",width:"300",onClose:function(){"退订成功！"===i&&window.location.reload()}}).show()},activity:function(i){return t=i,activity_util}}});